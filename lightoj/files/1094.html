<!DOCTYPE HTML>
<html>

<head>
	<title> Problem 1094</title>
	<meta name="description" content="website description" />
	<meta name="keywords" content="website keywords, website keywords" />
	<meta http-equiv="content-type" content="text/html; charset=windows-1252" />
	<link rel="stylesheet" type="text/css" href="../style/style.css" />
	<link rel="icon" type="image/png" href="style/favi.png">
	<script type="text/javascript" src="../scripts/shCore.js"></script>
	<script type="text/javascript" src="../scripts/shBrushCpp.js"></script>
	<link type="text/css" rel="stylesheet" href="../styles/shCoreDefault.css"/>
	<script type="text/javascript">SyntaxHighlighter.all();</script>
</head>

<body>
	<div id="main">
		<div id="header">
			<div id="logo">
				<h1>LightOJ Solutions</h1>
			</div>
			<div id="menubar">
				<ul id="menu">
					<li class="current"><a>1094</a></li>
					<li><a href="../">List of Problems</a></li>
					<li><a href="../tags">Search by Tags</a></li>
				</ul>
			</div>
		</div>
		<div id="site_content">
			<div id="sidebar_container">
				<img class="paperclip" src="../style/paperclip.png" alt="paperclip" />
				<div class="sidebar">
				<!-- insert your sidebar items here -->
				<h3>About Me</h3>
				<h3><a href="https://www.facebook.com/utk3995">Utkarsh Srivastava</a></h3><br/>
				<p> Student of IIIT Allahabad </p>
				<h5>Programmer | Developer | Reader<br/><br/></h5>
				</div>
			</div>
			<div id="content">
<h1><u>Question Code</u> : 1094</h1>
<h1><u>Problem Name</u> : <a href=http://lightoj.com/volume_showproblem.php?problem=1094 target="_blank" > Problem 1094 - Farthest Nodes in a Tree</a></h1><br/>
<h3><u>Problem Tags</u> : 
<a href= ../tags/Breadth%20First%20Search-Depth%20First%20Search.html>Breadth First Search/Depth First Search</a><br/><br/>
<h3><u>Problem Statement</u> : </h3>

<p class=MsoNormal>Given a tree (a connected graph with no cycles), you have to 
find the farthest nodes in the tree. The edges of the tree are weighted and 
undirected. That means you have to find two nodes in the tree whose distance is 
maximum amongst all nodes.</p> 

<br/><h3><u>Code</u> : </h3>
<pre class="brush: cpp;">
#include&lt;bits/stdc++.h&gt;
using namespace std;

#define ll long long int
#define pii pair&lt;int,int&gt;
#define pll pair&lt;ll,ll&gt;
#define vi vector&lt;int&gt;
#define vl vector&lt;ll&gt;
#define pb push_back
#define mp make_pair
#define fr first
#define se second
#define MOD 1000000007

vector &lt; pii &gt; g[30100];

void clea(int n)
{
    for (int i=0;i&lt;n;i++)
        g[i].clear();

}

pll func(int v, int p)
{
    ll maxans=-1;
    vl mch;
    for (int i=0;i&lt;g[v].size();i++){
        int u = g[v][i].fr;
        ll w = g[v][i].se;
        if (u==p)
            continue;
        pll rec = func(u,v);
        maxans = max(maxans,rec.fr);
        mch.pb(rec.se+w);
    }
    if (mch.size()==0)
        return mp(0,0);
    if (mch.size()==1)
        return mp(mch[0],mch[0]);
    sort(mch.begin(),mch.end());
    maxans = max(maxans,(mch[mch.size()-1]+mch[mch.size()-2]));
    return mp(maxans,mch[mch.size()-1]);
}

int main ()
{
	//freopen("input.txt","r",stdin);
	ios_base::sync_with_stdio(false);
    int t;
    cin&gt;&gt;t;
    int cas=1;
    while (t--){
        int n;
        cin&gt;&gt;n;
        clea(n);
        for (int i=0;i&lt;n-1;i++){
            int u,v,w;
            cin&gt;&gt;u&gt;&gt;v&gt;&gt;w;
            g[u].pb(mp(v,w));
            g[v].pb(mp(u,w));
        }
        pll ans = func(0,0);
        cout&lt;&lt;"Case "&lt;&lt;cas++&lt;&lt;": "&lt;&lt;ans.fr&lt;&lt;endl;
    }
    return 0;
}

			</div>
		</div>
		<div id="footer">
			<p> Last Updated on : <a>Tue, 11 Apr 2017</a></p>
		</div>
	</div>
</body>
</html>
